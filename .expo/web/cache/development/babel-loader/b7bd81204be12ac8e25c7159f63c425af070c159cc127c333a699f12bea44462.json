{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { isArray, isFunction, isObject, isString } from '@react-native-firebase/app/lib/common';\nimport { deepGet } from '@react-native-firebase/app/lib/common/deeps';\nvar DatabaseDataSnapshot = function () {\n  function DatabaseDataSnapshot(reference, snapshot) {\n    _classCallCheck(this, DatabaseDataSnapshot);\n    this._snapshot = snapshot;\n    if (reference.key !== snapshot.key) {\n      this._ref = reference.ref.child(snapshot.key);\n    } else {\n      this._ref = reference;\n    }\n  }\n  _createClass(DatabaseDataSnapshot, [{\n    key: \"key\",\n    get: function get() {\n      return this._snapshot.key;\n    }\n  }, {\n    key: \"ref\",\n    get: function get() {\n      return this._ref;\n    }\n  }, {\n    key: \"child\",\n    value: function child(path) {\n      if (!isString(path)) {\n        throw new Error(\"snapshot().child(*) 'path' must be a string value\");\n      }\n      var value = deepGet(this._snapshot.value, path);\n      if (value === undefined) {\n        value = null;\n      }\n      var childRef = this._ref.child(path);\n      return new DatabaseDataSnapshot(childRef, {\n        value: value,\n        key: childRef.key,\n        exists: value !== null,\n        childKeys: isObject(value) ? Object.keys(value) : []\n      });\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      return this._snapshot.exists;\n    }\n  }, {\n    key: \"exportVal\",\n    value: function exportVal() {\n      var value = this._snapshot.value;\n      if (isObject(value) || isArray(value)) {\n        value = JSON.parse(JSON.stringify(value));\n      }\n      return {\n        '.value': value,\n        '.priority': this._snapshot.priority\n      };\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(action) {\n      var _this = this;\n      if (!isFunction(action)) {\n        throw new Error(\"snapshot.forEach(*) 'action' must be a function.\");\n      }\n      if (isArray(this._snapshot.value)) {\n        return this._snapshot.value.some(function (value, i) {\n          var snapshot = _this.child(i.toString());\n          return action(snapshot, i) === true;\n        });\n      }\n      if (!this._snapshot.childKeys.length) {\n        return false;\n      }\n      var cancelled = false;\n      for (var i = 0; i < this._snapshot.childKeys.length; i++) {\n        var key = this._snapshot.childKeys[i];\n        var snapshot = this.child(key);\n        var actionReturn = action(snapshot, i);\n        if (actionReturn === true) {\n          cancelled = true;\n          break;\n        }\n      }\n      return cancelled;\n    }\n  }, {\n    key: \"getPriority\",\n    value: function getPriority() {\n      return this._snapshot.priority;\n    }\n  }, {\n    key: \"hasChild\",\n    value: function hasChild(path) {\n      if (!isString(path)) {\n        throw new Error(\"snapshot.hasChild(*) 'path' must be a string value.\");\n      }\n      return deepGet(this._snapshot.value, path) !== undefined;\n    }\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return this.numChildren() > 0;\n    }\n  }, {\n    key: \"numChildren\",\n    value: function numChildren() {\n      var value = this._snapshot.value;\n      if (isArray(value)) {\n        return value.length;\n      }\n      if (!isObject(value)) {\n        return 0;\n      }\n      return Object.keys(value).length;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.val();\n    }\n  }, {\n    key: \"val\",\n    value: function val() {\n      var value = this._snapshot.value;\n      if (isObject(value) || isArray(value)) {\n        return JSON.parse(JSON.stringify(value));\n      }\n      return value;\n    }\n  }]);\n  return DatabaseDataSnapshot;\n}();\nexport { DatabaseDataSnapshot as default };","map":{"version":3,"names":["isArray","isFunction","isObject","isString","deepGet","DatabaseDataSnapshot","reference","snapshot","_classCallCheck","_snapshot","key","_ref","ref","child","_createClass","get","value","path","Error","undefined","childRef","exists","childKeys","Object","keys","exportVal","JSON","parse","stringify","priority","forEach","action","_this","some","i","toString","length","cancelled","actionReturn","getPriority","hasChild","hasChildren","numChildren","toJSON","val","default"],"sources":["D:/food_ordering_app-ReactNative/node_modules/@react-native-firebase/database/lib/DatabaseDataSnapshot.js"],"sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { isArray, isFunction, isObject, isString } from '@react-native-firebase/app/lib/common';\nimport { deepGet } from '@react-native-firebase/app/lib/common/deeps';\n\nexport default class DatabaseDataSnapshot {\n  constructor(reference, snapshot) {\n    this._snapshot = snapshot;\n\n    if (reference.key !== snapshot.key) {\n      // reference is a query?\n      this._ref = reference.ref.child(snapshot.key);\n    } else {\n      this._ref = reference;\n    }\n\n    // TODO #894\n    // if (this._ref.path === '.info/connected') {\n    //  Handle 1/0 vs true/false values on ios/android\n    // }\n  }\n\n  get key() {\n    return this._snapshot.key;\n  }\n\n  get ref() {\n    return this._ref;\n  }\n\n  /**\n   * Returns a new snapshot of the child location\n   * @param path\n   * @returns {DatabaseDataSnapshot}\n   */\n  child(path) {\n    if (!isString(path)) {\n      throw new Error(\"snapshot().child(*) 'path' must be a string value\");\n    }\n\n    let value = deepGet(this._snapshot.value, path);\n\n    if (value === undefined) {\n      value = null;\n    }\n\n    const childRef = this._ref.child(path);\n\n    return new DatabaseDataSnapshot(childRef, {\n      value,\n      key: childRef.key,\n      exists: value !== null,\n      childKeys: isObject(value) ? Object.keys(value) : [],\n    });\n  }\n\n  /**\n   * Returns whether the value exists\n   *\n   * @returns {(function())|((path: PathLike, callback: (exists: boolean) => void) => void)|boolean|exists|(() => boolean)}\n   */\n  exists() {\n    return this._snapshot.exists;\n  }\n\n  /**\n   * Exports value and priority\n   *\n   * @returns {{'.priority': *, '.value': *}}\n   */\n  exportVal() {\n    let { value } = this._snapshot;\n\n    if (isObject(value) || isArray(value)) {\n      value = JSON.parse(JSON.stringify(value));\n    }\n\n    return {\n      '.value': value,\n      '.priority': this._snapshot.priority,\n    };\n  }\n\n  /**\n   * Iterate over keys in order from Firebase\n   *\n   * @param action\n   * @return {boolean}\n   */\n  forEach(action) {\n    if (!isFunction(action)) {\n      throw new Error(\"snapshot.forEach(*) 'action' must be a function.\");\n    }\n\n    // If the value is an array,\n    if (isArray(this._snapshot.value)) {\n      return this._snapshot.value.some((value, i) => {\n        const snapshot = this.child(i.toString());\n        return action(snapshot, i) === true;\n      });\n    }\n\n    if (!this._snapshot.childKeys.length) {\n      return false;\n    }\n\n    let cancelled = false;\n\n    for (let i = 0; i < this._snapshot.childKeys.length; i++) {\n      const key = this._snapshot.childKeys[i];\n      const snapshot = this.child(key);\n      const actionReturn = action(snapshot, i);\n\n      if (actionReturn === true) {\n        cancelled = true;\n        break;\n      }\n    }\n\n    return cancelled;\n  }\n\n  getPriority() {\n    return this._snapshot.priority;\n  }\n\n  /**\n   * Checks the returned value for a nested child path\n   *\n   * @param path\n   * @returns {boolean}\n   */\n  hasChild(path) {\n    if (!isString(path)) {\n      throw new Error(\"snapshot.hasChild(*) 'path' must be a string value.\");\n    }\n\n    return deepGet(this._snapshot.value, path) !== undefined;\n  }\n\n  /**\n   * Returns whether the snapshot has any children\n   *\n   * @returns {boolean}\n   */\n  hasChildren() {\n    return this.numChildren() > 0;\n  }\n\n  /**\n   * Returns the number of children this snapshot has\n   *\n   * @returns {number}\n   */\n  numChildren() {\n    const { value } = this._snapshot;\n    if (isArray(value)) {\n      return value.length;\n    }\n    if (!isObject(value)) {\n      return 0;\n    }\n    return Object.keys(value).length;\n  }\n\n  /**\n   * Overrides the .toJSON implementation for snapshot\n   * Same as snapshot.val()\n   * @returns {any}\n   */\n  toJSON() {\n    return this.val();\n  }\n\n  /**\n   * Returns the serialized value of the snapshot returned from Firebase\n   *\n   * @returns {any}\n   */\n  val() {\n    const { value } = this._snapshot;\n\n    if (isObject(value) || isArray(value)) {\n      return JSON.parse(JSON.stringify(value));\n    }\n\n    return value;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}